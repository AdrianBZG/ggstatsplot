<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ggbetweenstats • ggstatsplot</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/lumen/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="ggbetweenstats">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ggstatsplot</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">0.0.3.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/combine_plots.html">combine_plots</a>
    </li>
    <li>
      <a href="../articles/ggbetweenstats.html">ggbetweenstats</a>
    </li>
    <li>
      <a href="../articles/ggcorrmat.html">ggcorrmat</a>
    </li>
    <li>
      <a href="../articles/gghistostats.html">gghistostats</a>
    </li>
    <li>
      <a href="../articles/ggpiestats.html">ggpiestats</a>
    </li>
    <li>
      <a href="../articles/ggscatterstats.html">ggscatterstats</a>
    </li>
    <li>
      <a href="../articles/theme_mprl.html">Default theme (theme_mprl)</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>ggbetweenstats</h1>
                        <h4 class="author">Indrajeet Patil</h4>
            
            <h4 class="date">2018-06-05</h4>
      
      
      <div class="hidden name"><code>ggbetweenstats.Rmd</code></div>

    </div>

    
    
<p>The function <code><a href="../reference/ggbetweenstats.html">ggstatsplot::ggbetweenstats</a></code> is designed with a <strong>publication-ready box-violin plot</strong> in mind, with all statistical details included in the plot itself. We will see examples of how to use this function in this vignette.</p>
<p>To begin with, here are some instances where you would want to use <code>ggbetweenstats</code>-</p>
<ul>
<li>to check if a continuous variable differs between two groups or conditions</li>
<li>to check for outliers</li>
</ul>
<p><strong>Note before</strong>: The following demo uses the pipe operator (<code>%&gt;%</code>), so in case you are not familiar with this operator, here is a good explanation: <a href="http://r4ds.had.co.nz/pipes.html" class="uri">http://r4ds.had.co.nz/pipes.html</a></p>
<div id="between-subjects-comparisons-with-ggbetweenstats" class="section level2">
<h2 class="hasAnchor">
<a href="#between-subjects-comparisons-with-ggbetweenstats" class="anchor"></a>Between-subjects comparisons with <code>ggbetweenstats</code>
</h2>
<p>To illustrate how this function can be used, we will use the <code>gapminder</code> dataset. This dataset (available in eponymous <a href="https://CRAN.R-project.org/package=gapminder">package</a> on CRAN) provides values for life expectancy, GDP per capita, and population, every five years, from 1952 to 2007, for each of 142 countries and was collected by the Gapminder Foundation. Let’s have a look at the data-</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(gapminder)
<span class="kw">library</span>(dplyr)

dplyr<span class="op">::</span><span class="kw"><a href="http://dplyr.tidyverse.org/reference/reexports.html">glimpse</a></span>(<span class="dt">x =</span> gapminder<span class="op">::</span>gapminder)
<span class="co">#&gt; Observations: 1,704</span>
<span class="co">#&gt; Variables: 6</span>
<span class="co">#&gt; $ country   &lt;fct&gt; Afghanistan, Afghanistan, Afghanistan, Afghanistan, ...</span>
<span class="co">#&gt; $ continent &lt;fct&gt; Asia, Asia, Asia, Asia, Asia, Asia, Asia, Asia, Asia...</span>
<span class="co">#&gt; $ year      &lt;int&gt; 1952, 1957, 1962, 1967, 1972, 1977, 1982, 1987, 1992...</span>
<span class="co">#&gt; $ lifeExp   &lt;dbl&gt; 28.801, 30.332, 31.997, 34.020, 36.088, 38.438, 39.8...</span>
<span class="co">#&gt; $ pop       &lt;int&gt; 8425333, 9240934, 10267083, 11537966, 13079460, 1488...</span>
<span class="co">#&gt; $ gdpPercap &lt;dbl&gt; 779.4453, 820.8530, 853.1007, 836.1971, 739.9811, 78...</span></code></pre></div>
<p>Suppose the first thing we want to check is the distribution of life expectancy worldwide (across continents, i.e.) in 2007. That is, we want to see if the average (across countries in a given continent) life expectancy differs significantly across five continents.</p>
<p>The simplest form of the function call is-</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(ggstatsplot)
<span class="kw">library</span>(gapminder)

ggstatsplot<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/ggstatsplot/topics/ggbetweenstats">ggbetweenstats</a></span>(
  <span class="dt">data =</span> dplyr<span class="op">::</span><span class="kw"><a href="http://dplyr.tidyverse.org/reference/filter.html">filter</a></span>(<span class="dt">.data =</span> gapminder, year <span class="op">==</span><span class="st"> </span><span class="dv">2007</span>),
  <span class="dt">x =</span> continent,
  <span class="dt">y =</span> lifeExp,
  <span class="dt">messages =</span> <span class="ot">FALSE</span>
)</code></pre></div>
<p><img src="ggbetweenstats_files/figure-html/ggbetweenstats1-1.png" width="768"></p>
<p>Note that the test automatically figures out whether independent t-test is to be run or an ANOVA based on the number of levels in the grouping variable. Additionally, the function output a <code>ggplot</code> object which means that it can be further modified.</p>
<p>We will see how this basic call can be further modified with additional arguments-</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(ggstatsplot)
<span class="kw">library</span>(gapminder)

ggstatsplot<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/ggstatsplot/topics/ggbetweenstats">ggbetweenstats</a></span>(
  <span class="dt">data =</span> dplyr<span class="op">::</span><span class="kw"><a href="http://dplyr.tidyverse.org/reference/filter.html">filter</a></span>(<span class="dt">.data =</span> gapminder, year <span class="op">==</span><span class="st"> </span><span class="dv">2007</span>),      <span class="co"># dataframe</span>
  <span class="dt">x =</span> continent,                                              <span class="co"># grouping/independent variable</span>
  <span class="dt">y =</span> lifeExp,                                                <span class="co"># dependent variables</span>
  <span class="dt">xlab =</span> <span class="st">"Continent"</span>,                                         <span class="co"># label for the x-axis</span>
  <span class="dt">ylab =</span> <span class="st">"Life expectancy"</span>,                                   <span class="co"># label for the y-axis</span>
  <span class="dt">plot.type =</span> <span class="st">"boxviolin"</span>,                                    <span class="co"># type of plot</span>
  <span class="dt">type =</span> <span class="st">"parametric"</span>,                                        <span class="co"># type of statistical test  </span>
  <span class="dt">effsize.type =</span> <span class="st">"biased"</span>,                                    <span class="co"># type of effect size</span>
  <span class="dt">outlier.tagging =</span> <span class="ot">TRUE</span>,                                     <span class="co"># whether outliers should be flagged</span>
  <span class="dt">outlier.coef =</span> <span class="fl">1.5</span>,                                         <span class="co"># coefficient for Tukey's rule</span>
  <span class="dt">outlier.label =</span> country,                                    <span class="co"># label to attacht to outlier values</span>
  <span class="dt">outlier.label.color =</span> <span class="st">"red"</span>,                                <span class="co"># outlier point label color</span>
  <span class="dt">mean.plotting =</span> <span class="ot">TRUE</span>,                                       <span class="co"># whether the mean is to be displayed</span>
  <span class="dt">mean.color =</span> <span class="st">"darkblue"</span>,                                    <span class="co"># color for mean</span>
  <span class="dt">messages =</span> <span class="ot">FALSE</span>,                                           <span class="co"># turn off messages</span>
  <span class="dt">title =</span> <span class="st">"Comparison of life expectancy across continents (Year: 2007)"</span>,
  <span class="dt">caption =</span> <span class="st">"Source: Gapminder Foundation"</span>
) <span class="op">+</span><span class="st">                                                           </span><span class="co"># modifying the plot further</span>
<span class="st">  </span>ggplot2<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/ggplot2/topics/scale_continuous">scale_y_continuous</a></span>(<span class="dt">limits =</span> <span class="kw">c</span>(<span class="dv">35</span>,<span class="dv">85</span>), <span class="dt">breaks =</span> <span class="kw">seq</span>(<span class="dt">from =</span> <span class="dv">35</span>, <span class="dt">to =</span> <span class="dv">85</span>, <span class="dt">by =</span> <span class="dv">5</span>))</code></pre></div>
<p><img src="ggbetweenstats_files/figure-html/ggbetweenstats2-1.png" width="768"></p>
<p>As can be appreciated from the effect size of 0.635, there are big differences in the observed life expectancy across continents. Importantly, this plot also helps us appreciate the differences within any given continent. For example, although Asian countries are doing much better than African countries, on average, Afghanistan has a particularly grim average for the Asian continent, possibly reflecting the war and the political turmoil.</p>
<p>Out of curiosity, we can repeat the same analysis with other available tests in <code>ggstatsplot</code>. The <code>type</code> (of test) argument also accepts the following abbreviations: <code>"p"</code> (for <em>parametric</em>), <code>"np"</code> (for <em>nonparametric</em>), <code>"r"</code> (for <em>robust</em>). Additionally, the type of plot to be displayed can also be modified (<code>"box"</code>, <code>"violin"</code>, or <code>"boxviolin"</code>). Let’s produce all of these variations in the plot below.</p>
<p>Let’s try out both of these features by plotting continent-level differences for three different years, separated by a decade. Also, since there are just two data points for the continent of Oceania, let’s leave out this continent from our analysis.</p>
<p>For example,</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(ggstatsplot)
<span class="kw">library</span>(gapminder)

<span class="co"># parametric ANOVA and box plot</span>
p1 &lt;-<span class="st"> </span>ggstatsplot<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/ggstatsplot/topics/ggbetweenstats">ggbetweenstats</a></span>(
  <span class="dt">data =</span> dplyr<span class="op">::</span><span class="kw"><a href="http://dplyr.tidyverse.org/reference/filter.html">filter</a></span>(<span class="dt">.data =</span> gapminder, year <span class="op">==</span><span class="st"> </span><span class="dv">2007</span>, continent <span class="op">!=</span><span class="st"> "Oceania"</span>),
  <span class="dt">x =</span> continent,
  <span class="dt">y =</span> lifeExp,
  <span class="dt">plot.type =</span> <span class="st">"box"</span>,
  <span class="dt">type =</span> <span class="st">"p"</span>,
  <span class="dt">messages =</span> <span class="ot">FALSE</span>
)

<span class="co"># Kruskal-Wallis test (nonparametric ANOVA) and violin plot</span>
p2 &lt;-<span class="st"> </span>ggstatsplot<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/ggstatsplot/topics/ggbetweenstats">ggbetweenstats</a></span>(
  <span class="dt">data =</span> dplyr<span class="op">::</span><span class="kw"><a href="http://dplyr.tidyverse.org/reference/filter.html">filter</a></span>(<span class="dt">.data =</span> gapminder, year <span class="op">==</span><span class="st"> </span><span class="dv">1997</span>, continent <span class="op">!=</span><span class="st"> "Oceania"</span>),
  <span class="dt">x =</span> continent,
  <span class="dt">y =</span> lifeExp,
  <span class="dt">plot.type =</span> <span class="st">"violin"</span>,
  <span class="dt">type =</span> <span class="st">"np"</span>,
  <span class="dt">messages =</span> <span class="ot">FALSE</span>
)

<span class="co"># robust ANOVA and boxviolin plot</span>
p3 &lt;-<span class="st"> </span>ggstatsplot<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/ggstatsplot/topics/ggbetweenstats">ggbetweenstats</a></span>(
  <span class="dt">data =</span> dplyr<span class="op">::</span><span class="kw"><a href="http://dplyr.tidyverse.org/reference/filter.html">filter</a></span>(<span class="dt">.data =</span> gapminder, year <span class="op">==</span><span class="st"> </span><span class="dv">1987</span>, continent <span class="op">!=</span><span class="st"> "Oceania"</span>),
  <span class="dt">x =</span> continent,
  <span class="dt">y =</span> gdpPercap,
  <span class="dt">plot.type =</span> <span class="st">"boxviolin"</span>,
  <span class="dt">type =</span> <span class="st">"r"</span>,
  <span class="dt">tr =</span> <span class="fl">0.005</span>,
  <span class="dt">messages =</span> <span class="ot">FALSE</span>
)

<span class="co"># combining the individual plots into a single plot</span>
ggstatsplot<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/ggstatsplot/topics/combine_plots">combine_plots</a></span>(
  p1, p2, p3, 
  <span class="dt">nrow =</span> <span class="dv">3</span>, 
  <span class="dt">ncol =</span> <span class="dv">1</span>, 
  <span class="dt">labels =</span> <span class="kw">c</span>(<span class="st">"(a)"</span>, <span class="st">"(b)"</span>, <span class="st">"(c)"</span>),
  <span class="dt">title.text =</span> <span class="st">"Comparison of life expectancy across continents (1987-2007)"</span>,
  <span class="dt">caption.text =</span> <span class="st">"Note: Comparing results from parametric, non-parametric, and robust tests"</span>,
  <span class="dt">title.size =</span> <span class="dv">14</span>,
  <span class="dt">caption.size =</span> <span class="dv">12</span>
)</code></pre></div>
<p><img src="ggbetweenstats_files/figure-html/ggbetweenstats3-1.png" width="768"></p>
</div>
<div id="grouped-analysis-with-grouped_ggbetweenstats" class="section level2">
<h2 class="hasAnchor">
<a href="#grouped-analysis-with-grouped_ggbetweenstats" class="anchor"></a>Grouped analysis with <code>grouped_ggbetweenstats</code>
</h2>
<p>What if we want to do the same analysis separately for each year for which the data is available, i.e. checking how the differences in life expectancy have changed since this data collection started in 1952 until 2007? In that case, we will have to either write a <code>for</code> loop or use <code>purrr</code>, both of which are time consuming and can be a bit of a struggle.</p>
<p><code>ggstatsplot</code> provides a special helper function for such instances: <code>grouped_ggbetweenstats</code>. This is merely a wrapper function around <code><a href="../reference/combine_plots.html">ggstatsplot::combine_plots</a></code>. It applies <code>ggbetweenstats</code> across all <strong>levels</strong> of a specified <strong>grouping variable</strong> and then combines list of individual plots into a single plot. Note that the grouping variable can be anything: conditions in a given study, groups in a study sample, different studies, etc.</p>
<p>Let’s focus on the following years to see these changes for every 10 years: 1957, 1967, 1977, 1987, 1997, 2007.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">ggstatsplot<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/ggstatsplot/topics/grouped_ggbetweenstats">grouped_ggbetweenstats</a></span>(
  <span class="co"># arguments relevant for ggstatsplot::ggbetweenstats</span>
  <span class="dt">data =</span> dplyr<span class="op">::</span><span class="kw"><a href="http://dplyr.tidyverse.org/reference/filter.html">filter</a></span>(
    <span class="dt">.data =</span> gapminder<span class="op">::</span>gapminder,
    year <span class="op">==</span><span class="st"> </span><span class="dv">1957</span> <span class="op">|</span>
<span class="st">    </span>year <span class="op">==</span><span class="st"> </span><span class="dv">1967</span> <span class="op">|</span>
<span class="st">    </span>year <span class="op">==</span><span class="st"> </span><span class="dv">1977</span> <span class="op">|</span>
<span class="st">    </span>year <span class="op">==</span><span class="st"> </span><span class="dv">1987</span> <span class="op">|</span>
<span class="st">    </span>year <span class="op">==</span><span class="st"> </span><span class="dv">1997</span> <span class="op">|</span>
<span class="st">    </span>year <span class="op">==</span><span class="st"> </span><span class="dv">2007</span>, continent <span class="op">!=</span><span class="st"> "Oceania"</span>
  ),
  <span class="dt">x =</span> continent,
  <span class="dt">y =</span> lifeExp,
  <span class="dt">outlier.tagging =</span> <span class="ot">TRUE</span>,
  <span class="dt">outlier.label =</span> country,
  <span class="dt">grouping.var =</span> year,
  <span class="dt">title.prefix =</span> <span class="st">"Year"</span>,
  <span class="dt">messages =</span> <span class="ot">FALSE</span>,
  <span class="co"># arguments relevant for ggstatsplot::combine_plots</span>
  <span class="dt">title.text =</span> <span class="st">"Changes in life expectancy across continents (1957-2007)"</span>,
  <span class="dt">nrow =</span> <span class="dv">6</span>,
  <span class="dt">ncol =</span> <span class="dv">1</span>,
  <span class="dt">labels =</span> <span class="kw">c</span>(<span class="st">"(a)"</span>,<span class="st">"(b)"</span>,<span class="st">"(c)"</span>, <span class="st">"(d)"</span>, <span class="st">"(e)"</span>, <span class="st">"(f)"</span>)
)</code></pre></div>
<p><img src="ggbetweenstats_files/figure-html/grouped1-1.png" width="672"></p>
<p>As seen from the plot, although the life expectancy has been improving steadily across all continents as we go from 1957 to 2007, this improvement has not been happening at the same rate for all continents. Additionally, irrespective of which year we look at, we still find significant differences in life expectancy across continents which have been surprisingly consistent across five decades (based on the observed effect sizes).</p>
</div>
<div id="grouped-analysis-with-ggbetweenstats-purrr" class="section level2">
<h2 class="hasAnchor">
<a href="#grouped-analysis-with-ggbetweenstats-purrr" class="anchor"></a>Grouped analysis with <code>ggbetweenstats</code> + <code>purrr</code>
</h2>
<p>Although this grouping function provides a quick way to explore the data, it leaves much to be desired. For example, the same type of plot and test is applied for all years, but maybe we want to change this for different years, or maybe we want to gave different effect sizes for different years. This type of customization for different levels of a grouping variable is not possible with <code>grouped_ggbetweenstats</code>, but we will see how this can be easily achieved using the <code>purrr</code> package.</p>
<p><strong>Note before</strong>: Unlike the function call so far, while using <code><a href="http://www.rdocumentation.org/packages/purrr/topics/map2">purrr::pmap</a></code>, we will need to <em>quote</em> the arguments.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># let's split the dataframe and create a list by years of interest</span>
year_list &lt;-<span class="st"> </span>gapminder<span class="op">::</span>gapminder <span class="op">%&gt;%</span>
<span class="st">  </span>dplyr<span class="op">::</span><span class="kw"><a href="http://dplyr.tidyverse.org/reference/filter.html">filter</a></span>(
    <span class="dt">.data =</span> .,
    year <span class="op">==</span><span class="st"> </span><span class="dv">1957</span> <span class="op">|</span>
<span class="st">    </span>year <span class="op">==</span><span class="st"> </span><span class="dv">1967</span> <span class="op">|</span>
<span class="st">    </span>year <span class="op">==</span><span class="st"> </span><span class="dv">1977</span> <span class="op">|</span>
<span class="st">    </span>year <span class="op">==</span><span class="st"> </span><span class="dv">1987</span> <span class="op">|</span>
<span class="st">    </span>year <span class="op">==</span><span class="st"> </span><span class="dv">1997</span> <span class="op">|</span>
<span class="st">    </span>year <span class="op">==</span><span class="st"> </span><span class="dv">2007</span>, continent <span class="op">!=</span><span class="st"> "Oceania"</span>
  ) <span class="op">%&gt;%</span>
<span class="st">  </span>base<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/base/topics/split">split</a></span>(<span class="dt">x =</span> ., <span class="dt">f =</span> .<span class="op">$</span>year, <span class="dt">drop =</span> <span class="ot">TRUE</span>)

<span class="co"># this created a list with 4 elements, one for each mpaa rating</span>
<span class="kw">str</span>(year_list)
<span class="co">#&gt; List of 6</span>
<span class="co">#&gt;  $ 1957:Classes 'tbl_df', 'tbl' and 'data.frame':    140 obs. of  6 variables:</span>
<span class="co">#&gt;   ..$ country  : Factor w/ 142 levels "Afghanistan",..: 1 2 3 4 5 7 8 9 10 11 ...</span>
<span class="co">#&gt;   ..$ continent: Factor w/ 5 levels "Africa","Americas",..: 3 4 1 1 2 4 3 3 4 1 ...</span>
<span class="co">#&gt;   ..$ year     : int [1:140] 1957 1957 1957 1957 1957 1957 1957 1957 1957 1957 ...</span>
<span class="co">#&gt;   ..$ lifeExp  : num [1:140] 30.3 59.3 45.7 32 64.4 ...</span>
<span class="co">#&gt;   ..$ pop      : int [1:140] 9240934 1476505 10270856 4561361 19610538 6965860 138655 51365468 8989111 1925173 ...</span>
<span class="co">#&gt;   ..$ gdpPercap: num [1:140] 821 1942 3014 3828 6857 ...</span>
<span class="co">#&gt;  $ 1967:Classes 'tbl_df', 'tbl' and 'data.frame':    140 obs. of  6 variables:</span>
<span class="co">#&gt;   ..$ country  : Factor w/ 142 levels "Afghanistan",..: 1 2 3 4 5 7 8 9 10 11 ...</span>
<span class="co">#&gt;   ..$ continent: Factor w/ 5 levels "Africa","Americas",..: 3 4 1 1 2 4 3 3 4 1 ...</span>
<span class="co">#&gt;   ..$ year     : int [1:140] 1967 1967 1967 1967 1967 1967 1967 1967 1967 1967 ...</span>
<span class="co">#&gt;   ..$ lifeExp  : num [1:140] 34 66.2 51.4 36 65.6 ...</span>
<span class="co">#&gt;   ..$ pop      : int [1:140] 11537966 1984060 12760499 5247469 22934225 7376998 202182 62821884 9556500 2427334 ...</span>
<span class="co">#&gt;   ..$ gdpPercap: num [1:140] 836 2760 3247 5523 8053 ...</span>
<span class="co">#&gt;  $ 1977:Classes 'tbl_df', 'tbl' and 'data.frame':    140 obs. of  6 variables:</span>
<span class="co">#&gt;   ..$ country  : Factor w/ 142 levels "Afghanistan",..: 1 2 3 4 5 7 8 9 10 11 ...</span>
<span class="co">#&gt;   ..$ continent: Factor w/ 5 levels "Africa","Americas",..: 3 4 1 1 2 4 3 3 4 1 ...</span>
<span class="co">#&gt;   ..$ year     : int [1:140] 1977 1977 1977 1977 1977 1977 1977 1977 1977 1977 ...</span>
<span class="co">#&gt;   ..$ lifeExp  : num [1:140] 38.4 68.9 58 39.5 68.5 ...</span>
<span class="co">#&gt;   ..$ pop      : int [1:140] 14880372 2509048 17152804 6162675 26983828 7568430 297410 80428306 9821800 3168267 ...</span>
<span class="co">#&gt;   ..$ gdpPercap: num [1:140] 786 3533 4910 3009 10079 ...</span>
<span class="co">#&gt;  $ 1987:Classes 'tbl_df', 'tbl' and 'data.frame':    140 obs. of  6 variables:</span>
<span class="co">#&gt;   ..$ country  : Factor w/ 142 levels "Afghanistan",..: 1 2 3 4 5 7 8 9 10 11 ...</span>
<span class="co">#&gt;   ..$ continent: Factor w/ 5 levels "Africa","Americas",..: 3 4 1 1 2 4 3 3 4 1 ...</span>
<span class="co">#&gt;   ..$ year     : int [1:140] 1987 1987 1987 1987 1987 1987 1987 1987 1987 1987 ...</span>
<span class="co">#&gt;   ..$ lifeExp  : num [1:140] 40.8 72 65.8 39.9 70.8 ...</span>
<span class="co">#&gt;   ..$ pop      : int [1:140] 13867957 3075321 23254956 7874230 31620918 7578903 454612 103764241 9870200 4243788 ...</span>
<span class="co">#&gt;   ..$ gdpPercap: num [1:140] 852 3739 5681 2430 9140 ...</span>
<span class="co">#&gt;  $ 1997:Classes 'tbl_df', 'tbl' and 'data.frame':    140 obs. of  6 variables:</span>
<span class="co">#&gt;   ..$ country  : Factor w/ 142 levels "Afghanistan",..: 1 2 3 4 5 7 8 9 10 11 ...</span>
<span class="co">#&gt;   ..$ continent: Factor w/ 5 levels "Africa","Americas",..: 3 4 1 1 2 4 3 3 4 1 ...</span>
<span class="co">#&gt;   ..$ year     : int [1:140] 1997 1997 1997 1997 1997 1997 1997 1997 1997 1997 ...</span>
<span class="co">#&gt;   ..$ lifeExp  : num [1:140] 41.8 73 69.2 41 73.3 ...</span>
<span class="co">#&gt;   ..$ pop      : int [1:140] 22227415 3428038 29072015 9875024 36203463 8069876 598561 123315288 10199787 6066080 ...</span>
<span class="co">#&gt;   ..$ gdpPercap: num [1:140] 635 3193 4797 2277 10967 ...</span>
<span class="co">#&gt;  $ 2007:Classes 'tbl_df', 'tbl' and 'data.frame':    140 obs. of  6 variables:</span>
<span class="co">#&gt;   ..$ country  : Factor w/ 142 levels "Afghanistan",..: 1 2 3 4 5 7 8 9 10 11 ...</span>
<span class="co">#&gt;   ..$ continent: Factor w/ 5 levels "Africa","Americas",..: 3 4 1 1 2 4 3 3 4 1 ...</span>
<span class="co">#&gt;   ..$ year     : int [1:140] 2007 2007 2007 2007 2007 2007 2007 2007 2007 2007 ...</span>
<span class="co">#&gt;   ..$ lifeExp  : num [1:140] 43.8 76.4 72.3 42.7 75.3 ...</span>
<span class="co">#&gt;   ..$ pop      : int [1:140] 31889923 3600523 33333216 12420476 40301927 8199783 708573 150448339 10392226 8078314 ...</span>
<span class="co">#&gt;   ..$ gdpPercap: num [1:140] 975 5937 6223 4797 12779 ...</span>

<span class="co"># running function on every element of this list note that if you want the same</span>
<span class="co"># value for a given argument across all elements of the list, you need to</span>
<span class="co"># specify it just once</span>
plot_list &lt;-<span class="st"> </span>purrr<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/purrr/topics/map2">pmap</a></span>(
  <span class="dt">.l =</span> <span class="kw">list</span>(
    <span class="dt">data =</span> year_list,
    <span class="dt">x =</span> <span class="st">"continent"</span>,
    <span class="dt">y =</span> <span class="st">"lifeExp"</span>,
    <span class="dt">outlier.label =</span> <span class="st">"country"</span>,
    <span class="dt">outlier.label.color =</span> <span class="kw">list</span>(
      <span class="st">"#56B4E9"</span>,
      <span class="st">"#009E73"</span>,
      <span class="st">"#F0E442"</span>,
      <span class="st">"#0072B2"</span>,
      <span class="st">"#D55E00"</span>,
      <span class="st">"#CC79A7"</span>
    ),
    <span class="dt">xlab =</span> <span class="st">"Continent"</span>,
    <span class="dt">ylab =</span> <span class="st">"Life expectancy"</span>,
    <span class="dt">title =</span> <span class="kw">list</span>(
      <span class="st">"Year: 1957"</span>,
      <span class="st">"Year: 1967"</span>,
      <span class="st">"Year: 1977"</span>,
      <span class="st">"Year: 1987"</span>,
      <span class="st">"Year: 1997"</span>,
      <span class="st">"Year: 2007"</span>
    ),
    <span class="dt">type =</span> <span class="kw">list</span>(<span class="st">"r"</span>, <span class="st">"p"</span>, <span class="st">"np"</span>, <span class="st">"p"</span>, <span class="st">"np"</span>, <span class="st">"r"</span>),
    <span class="dt">effsize.type =</span> <span class="kw">list</span>(
      <span class="st">"biased"</span>,
      <span class="st">"unbiased"</span>,
      <span class="st">"biased"</span>,
      <span class="st">"unbiased"</span>,
      <span class="st">"biased"</span>,
      <span class="st">"unbiased"</span>
    ),
    <span class="dt">plot.type =</span> <span class="kw">list</span>(<span class="st">"box"</span>, <span class="st">"boxviolin"</span>, <span class="st">"box"</span>, <span class="st">"boxviolin"</span>, <span class="st">"box"</span>, <span class="st">"violin"</span>),
    <span class="dt">messages =</span> <span class="ot">FALSE</span>
  ),
  <span class="dt">.f =</span> ggstatsplot<span class="op">::</span>ggbetweenstats
)
  
<span class="co"># combining all individual plots from the list into a single plot using combine_plots function</span>
ggstatsplot<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/ggstatsplot/topics/combine_plots">combine_plots</a></span>(
  <span class="dt">plotlist =</span> plot_list,
  <span class="dt">title.text =</span> <span class="st">"Changes in life expectancy across continents (1957-2007)"</span>,
  <span class="dt">title.color =</span> <span class="st">"red"</span>,
  <span class="dt">nrow =</span> <span class="dv">6</span>,
  <span class="dt">ncol =</span> <span class="dv">1</span>,
  <span class="dt">labels =</span> <span class="kw">c</span>(<span class="st">"(a)"</span>,<span class="st">"(b)"</span>,<span class="st">"(c)"</span>,<span class="st">"(d)"</span>, <span class="st">"(e)"</span>, <span class="st">"(f)"</span>)
)</code></pre></div>
<p><img src="ggbetweenstats_files/figure-html/grouped2-1.png" width="672"></p>
</div>
<div id="within-subjects-designs" class="section level2">
<h2 class="hasAnchor">
<a href="#within-subjects-designs" class="anchor"></a>Within-subjects designs</h2>
<p>Variant of this function <code>ggwithinstats</code> is currently under work. You <em>can</em> still use this function just to prepare the <strong>plot</strong> for exploratory data analysis, but the statistical details displayed in the subtitle will be incorrect. You can remove them by adding <code>+ ggplot2::labs(subtitle = NULL)</code>.</p>
</div>
<div id="suggestions" class="section level2">
<h2 class="hasAnchor">
<a href="#suggestions" class="anchor"></a>Suggestions</h2>
<p>If you find any bugs or have any suggestions/remarks, please file an issue on GitHub: <a href="https://github.com/IndrajeetPatil/ggstatsplot/issues" class="uri">https://github.com/IndrajeetPatil/ggstatsplot/issues</a></p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#between-subjects-comparisons-with-ggbetweenstats">Between-subjects comparisons with <code>ggbetweenstats</code></a></li>
      <li><a href="#grouped-analysis-with-grouped_ggbetweenstats">Grouped analysis with <code>grouped_ggbetweenstats</code></a></li>
      <li><a href="#grouped-analysis-with-ggbetweenstats-purrr">Grouped analysis with <code>ggbetweenstats</code> + <code>purrr</code></a></li>
      <li><a href="#within-subjects-designs">Within-subjects designs</a></li>
      <li><a href="#suggestions">Suggestions</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Indrajeet Patil.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  

  </body>
</html>
