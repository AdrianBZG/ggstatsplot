<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>gghistostats • ggstatsplot</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/lumen/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script><script src="../pkgdown.js"></script><meta property="og:title" content="gghistostats">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ggstatsplot</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">0.0.1.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/gghistostats.html">gghistostats</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>gghistostats</h1>
                        <h4 class="author">Indrajeet Patil</h4>
            
            <h4 class="date">2018-04-24</h4>
      
      
      <div class="hidden name"><code>gghistostats.Rmd</code></div>

    </div>

    
    
<p>The function <code><a href="../reference/gghistostats.html">ggstatsplot::gghistostats</a></code> is meant to provide a publication-ready histogram with all statistical details included in the plot itself. We will see examples of how to use this function in this vignette with the <code>gapminder</code> dataset.</p>
<p>To begin with, here are some instances where you would want to use <code>gghistostats</code>-</p>
<ul>
<li>to check distribution of a continuous variable</li>
<li>to check if the mean of variable is different from a specified value</li>
</ul>
<div id="gapminder-dataset" class="section level2">
<h2 class="hasAnchor">
<a href="#gapminder-dataset" class="anchor"></a>gapminder dataset</h2>
<p>This dataset (available in eponymous <a href="https://CRAN.R-project.org/package=gapminder">package</a> on CRAN) provides values for life expectancy, GDP per capita, and population, every five years, from 1952 to 2007, for each of 142 countries and was collected by the Gapminder Foundation. Let’s have a look at the data-</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw">library</span>(gapminder)</a>
<a class="sourceLine" id="cb1-2" data-line-number="2"><span class="kw">library</span>(dplyr)</a>
<a class="sourceLine" id="cb1-3" data-line-number="3"><span class="kw">library</span>(magrittr)</a>
<a class="sourceLine" id="cb1-4" data-line-number="4"></a>
<a class="sourceLine" id="cb1-5" data-line-number="5">gapminder<span class="op">::</span>gapminder <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb1-6" data-line-number="6"><span class="st">  </span>dplyr<span class="op">::</span><span class="kw"><a href="http://dplyr.tidyverse.org/reference/reexports.html">glimpse</a></span>(<span class="dt">x =</span> .)</a>
<a class="sourceLine" id="cb1-7" data-line-number="7"><span class="co">#&gt; Observations: 1,704</span></a>
<a class="sourceLine" id="cb1-8" data-line-number="8"><span class="co">#&gt; Variables: 6</span></a>
<a class="sourceLine" id="cb1-9" data-line-number="9"><span class="co">#&gt; $ country   &lt;fct&gt; Afghanistan, Afghanistan, Afghanistan, Afghanistan, ...</span></a>
<a class="sourceLine" id="cb1-10" data-line-number="10"><span class="co">#&gt; $ continent &lt;fct&gt; Asia, Asia, Asia, Asia, Asia, Asia, Asia, Asia, Asia...</span></a>
<a class="sourceLine" id="cb1-11" data-line-number="11"><span class="co">#&gt; $ year      &lt;int&gt; 1952, 1957, 1962, 1967, 1972, 1977, 1982, 1987, 1992...</span></a>
<a class="sourceLine" id="cb1-12" data-line-number="12"><span class="co">#&gt; $ lifeExp   &lt;dbl&gt; 28.801, 30.332, 31.997, 34.020, 36.088, 38.438, 39.8...</span></a>
<a class="sourceLine" id="cb1-13" data-line-number="13"><span class="co">#&gt; $ pop       &lt;int&gt; 8425333, 9240934, 10267083, 11537966, 13079460, 1488...</span></a>
<a class="sourceLine" id="cb1-14" data-line-number="14"><span class="co">#&gt; $ gdpPercap &lt;dbl&gt; 779.4453, 820.8530, 853.1007, 836.1971, 739.9811, 78...</span></a></code></pre></div>
</div>
<div id="distribution-with-gghistostats" class="section level2">
<h2 class="hasAnchor">
<a href="#distribution-with-gghistostats" class="anchor"></a>Distribution with <code>gghistostats</code>
</h2>
<p>Suppose the first thing we want to check is the distribution of population worldwide in 2007. In this case, we are not interested in any statistics and, therefore, can set the <code>results.subtitle</code> argument to <code>FALSE</code>.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="kw">library</span>(ggstatsplot)</a>
<a class="sourceLine" id="cb2-2" data-line-number="2"></a>
<a class="sourceLine" id="cb2-3" data-line-number="3">gapminder<span class="op">::</span>gapminder <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb2-4" data-line-number="4"><span class="st">  </span>dplyr<span class="op">::</span><span class="kw"><a href="http://dplyr.tidyverse.org/reference/filter.html">filter</a></span>(<span class="dt">.data =</span> ., year <span class="op">==</span><span class="st"> </span><span class="dv">2007</span>) <span class="op">%&gt;%</span><span class="st">            </span><span class="co"># select data only from the year 2007</span></a>
<a class="sourceLine" id="cb2-5" data-line-number="5"><span class="st">  </span>ggstatsplot<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/ggstatsplot/topics/gghistostats">gghistostats</a></span>(</a>
<a class="sourceLine" id="cb2-6" data-line-number="6">    <span class="dt">data =</span> .,                                           <span class="co"># data from which variable is to be taken</span></a>
<a class="sourceLine" id="cb2-7" data-line-number="7">    <span class="dt">x =</span> pop,                                            <span class="co"># numeric variable</span></a>
<a class="sourceLine" id="cb2-8" data-line-number="8">    <span class="dt">results.subtitle =</span> <span class="ot">FALSE</span>,                           <span class="co"># don't run statistical tests</span></a>
<a class="sourceLine" id="cb2-9" data-line-number="9">    <span class="dt">messages =</span> <span class="ot">FALSE</span>,                                   <span class="co"># turn off messages</span></a>
<a class="sourceLine" id="cb2-10" data-line-number="10">    <span class="dt">xlab =</span> <span class="st">"Population"</span>,                                <span class="co"># x-axis label</span></a>
<a class="sourceLine" id="cb2-11" data-line-number="11">    <span class="dt">title =</span> <span class="st">"Distribution of population worldwide"</span>,     <span class="co"># title for the plot</span></a>
<a class="sourceLine" id="cb2-12" data-line-number="12">    <span class="dt">subtitle =</span> <span class="st">"Year: 2007"</span>,                            <span class="co"># subtitle for the plot</span></a>
<a class="sourceLine" id="cb2-13" data-line-number="13">    <span class="dt">caption =</span> <span class="st">"Data courtesy of: Gapminder Foundation"</span>  <span class="co"># caption for the plot</span></a>
<a class="sourceLine" id="cb2-14" data-line-number="14">  )</a></code></pre></div>
<p><img src="gghistostats_files/figure-html/age_distribution1-1.png" width="700"></p>
<p>Although this plot is useful, it is still not satisfactory as most of the mass seems to be concentrated at 0 due to the large range of numbers. We can remedy this by converting population to logarithmic scale. We can additionally adjust binwidth so that we have bins for every increase in order of magnitude.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1">gapminder<span class="op">::</span>gapminder <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb3-2" data-line-number="2"><span class="st">  </span>dplyr<span class="op">::</span><span class="kw"><a href="http://dplyr.tidyverse.org/reference/filter.html">filter</a></span>(<span class="dt">.data =</span> ., year <span class="op">==</span><span class="st"> </span><span class="dv">2007</span>) <span class="op">%&gt;%</span><span class="st">            </span><span class="co"># select data only from the year 2007</span></a>
<a class="sourceLine" id="cb3-3" data-line-number="3"><span class="st">  </span>dplyr<span class="op">::</span><span class="kw"><a href="http://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span>(<span class="dt">.data =</span> ., <span class="dt">pop_log =</span> <span class="kw">log10</span>(pop)) <span class="op">%&gt;%</span><span class="st">    </span><span class="co"># creating new population variable</span></a>
<a class="sourceLine" id="cb3-4" data-line-number="4"><span class="st">  </span>ggstatsplot<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/ggstatsplot/topics/gghistostats">gghistostats</a></span>(</a>
<a class="sourceLine" id="cb3-5" data-line-number="5">    <span class="dt">data =</span> .,                                           <span class="co"># data from which variable is to be taken</span></a>
<a class="sourceLine" id="cb3-6" data-line-number="6">    <span class="dt">x =</span> pop_log,                                        <span class="co"># numeric variable</span></a>
<a class="sourceLine" id="cb3-7" data-line-number="7">    <span class="dt">results.subtitle =</span> <span class="ot">FALSE</span>,                           <span class="co"># don't run statistical tests</span></a>
<a class="sourceLine" id="cb3-8" data-line-number="8">    <span class="dt">messages =</span> <span class="ot">FALSE</span>,                                   <span class="co"># turn off messages</span></a>
<a class="sourceLine" id="cb3-9" data-line-number="9">    <span class="dt">xlab =</span> <span class="st">"Population (logarithmic)"</span>,                  <span class="co"># x-axis label</span></a>
<a class="sourceLine" id="cb3-10" data-line-number="10">    <span class="dt">title =</span> <span class="st">"Distribution of population worldwide"</span>,     <span class="co"># title for the plot</span></a>
<a class="sourceLine" id="cb3-11" data-line-number="11">    <span class="dt">subtitle =</span> <span class="st">"Year: 2007"</span>,                            <span class="co"># subtitle for the plot</span></a>
<a class="sourceLine" id="cb3-12" data-line-number="12">    <span class="dt">caption =</span> <span class="st">"Data courtesy of: Gapminder Foundation"</span>, <span class="co"># caption for the plot</span></a>
<a class="sourceLine" id="cb3-13" data-line-number="13">    <span class="dt">binwidth.adjust =</span> <span class="ot">TRUE</span>,                             <span class="co"># adjust binwidth</span></a>
<a class="sourceLine" id="cb3-14" data-line-number="14">    <span class="dt">binwidth =</span> <span class="dv">1</span>                                        <span class="co"># new binwidth</span></a>
<a class="sourceLine" id="cb3-15" data-line-number="15">  )</a></code></pre></div>
<p><img src="gghistostats_files/figure-html/age_distribution2-1.png" width="700"></p>
</div>
<div id="statistical-analysis-with-gghistostats" class="section level2">
<h2 class="hasAnchor">
<a href="#statistical-analysis-with-gghistostats" class="anchor"></a>Statistical analysis with <code>gghistostats</code>
</h2>
<p>Let’s say we are now interested in investigating whether the mean life expectancy in 2007 across the world has improved during the 20th-Century. In 1950, it was <a href="https://ourworldindata.org/life-expectancy">48</a>, so this is the <code>test.value</code> we are going to use.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1">gapminder<span class="op">::</span>gapminder <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb4-2" data-line-number="2"><span class="st">  </span>dplyr<span class="op">::</span><span class="kw"><a href="http://dplyr.tidyverse.org/reference/filter.html">filter</a></span>(<span class="dt">.data =</span> ., year <span class="op">==</span><span class="st"> </span><span class="dv">2007</span>) <span class="op">%&gt;%</span><span class="st">            </span><span class="co"># select data only from the year 2007</span></a>
<a class="sourceLine" id="cb4-3" data-line-number="3"><span class="st">  </span>ggstatsplot<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/ggstatsplot/topics/gghistostats">gghistostats</a></span>(</a>
<a class="sourceLine" id="cb4-4" data-line-number="4">    <span class="dt">data =</span> .,                                           <span class="co"># data from which variable is to be taken</span></a>
<a class="sourceLine" id="cb4-5" data-line-number="5">    <span class="dt">x =</span> lifeExp,                                        <span class="co"># numeric variable</span></a>
<a class="sourceLine" id="cb4-6" data-line-number="6">    <span class="dt">messages =</span> <span class="ot">FALSE</span>,                                   <span class="co"># turn off messages</span></a>
<a class="sourceLine" id="cb4-7" data-line-number="7">    <span class="dt">test.value =</span> <span class="dv">48</span>,                                    <span class="co"># test value for one-sample t-test</span></a>
<a class="sourceLine" id="cb4-8" data-line-number="8">    <span class="dt">xlab =</span> <span class="st">"Life expectancy"</span>,                           <span class="co"># x-axis label</span></a>
<a class="sourceLine" id="cb4-9" data-line-number="9">    <span class="dt">title =</span> <span class="st">"Life expectancy worldwide"</span>,                <span class="co"># title for the plot</span></a>
<a class="sourceLine" id="cb4-10" data-line-number="10">    <span class="dt">subtitle =</span> <span class="st">"Year: 2007"</span>,                            <span class="co"># subtitle for the plot</span></a>
<a class="sourceLine" id="cb4-11" data-line-number="11">    <span class="dt">caption =</span> <span class="st">"Data courtesy of: Gapminder Foundation"</span>, <span class="co"># caption for the plot</span></a>
<a class="sourceLine" id="cb4-12" data-line-number="12">    <span class="dt">centrality.para =</span> <span class="st">"mean"</span>                            <span class="co"># plotting centrality parameter (mean)</span></a>
<a class="sourceLine" id="cb4-13" data-line-number="13">  )</a></code></pre></div>
<p><img src="gghistostats_files/figure-html/stats1-1.png" width="700"></p>
<p>Although there are still some countries where the life expectancy is low, on average, the life expectancy worldwide has improved compared to what it was in 1950.</p>
</div>
<div id="grouped-analysis-with-gghistostats" class="section level2">
<h2 class="hasAnchor">
<a href="#grouped-analysis-with-gghistostats" class="anchor"></a>Grouped analysis with <code>gghistostats</code>
</h2>
<p>What if we want to do the same analysis separately for all five continents? In that case, we will have to either write a <code>for</code> loop or use <code>purrr</code>. There is also a helper funtion that does this for you: <code>grouped_gghistostats</code>. It applied <code>gghistostats</code> across all specified grouping variables and then combines list of plots with the help of <code><a href="../reference/combine_plots.html">ggstatsplot::combine_plots</a></code>.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1">ggstatsplot<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/ggstatsplot/topics/grouped_gghistostats">grouped_gghistostats</a></span>(</a>
<a class="sourceLine" id="cb5-2" data-line-number="2">  <span class="co"># arguments relevant for gghistostats</span></a>
<a class="sourceLine" id="cb5-3" data-line-number="3">  <span class="dt">data =</span> gapminder<span class="op">::</span>gapminder,</a>
<a class="sourceLine" id="cb5-4" data-line-number="4">  <span class="dt">x =</span> lifeExp,</a>
<a class="sourceLine" id="cb5-5" data-line-number="5">  <span class="dt">xlab =</span> <span class="st">"Life expectancy"</span>,</a>
<a class="sourceLine" id="cb5-6" data-line-number="6">  <span class="dt">test.value =</span> <span class="dv">48</span>,</a>
<a class="sourceLine" id="cb5-7" data-line-number="7">  <span class="dt">test.value.line =</span> <span class="ot">TRUE</span>,</a>
<a class="sourceLine" id="cb5-8" data-line-number="8">  <span class="dt">messages =</span> <span class="ot">FALSE</span>,</a>
<a class="sourceLine" id="cb5-9" data-line-number="9">  <span class="dt">centrality.para =</span> <span class="st">"mean"</span>,</a>
<a class="sourceLine" id="cb5-10" data-line-number="10">  <span class="dt">grouping.var =</span> continent,</a>
<a class="sourceLine" id="cb5-11" data-line-number="11">  <span class="co"># arguments for combine_plots</span></a>
<a class="sourceLine" id="cb5-12" data-line-number="12">  <span class="dt">title.text =</span> <span class="st">"Life expectancy change in different continents since 1950"</span>,</a>
<a class="sourceLine" id="cb5-13" data-line-number="13">  <span class="dt">caption.text =</span> <span class="st">"Note: black line - 1950; blue line - 2007"</span>,</a>
<a class="sourceLine" id="cb5-14" data-line-number="14">  <span class="dt">nrow =</span> <span class="dv">3</span>,</a>
<a class="sourceLine" id="cb5-15" data-line-number="15">  <span class="dt">ncol =</span> <span class="dv">2</span>,</a>
<a class="sourceLine" id="cb5-16" data-line-number="16">  <span class="dt">labels =</span> <span class="kw">c</span>(<span class="st">"(a)"</span>,<span class="st">"(b)"</span>,<span class="st">"(c)"</span>,<span class="st">"(d)"</span>,<span class="st">"(e)"</span>)</a>
<a class="sourceLine" id="cb5-17" data-line-number="17">)</a></code></pre></div>
<p><img src="gghistostats_files/figure-html/grouped1-1.png" width="960"></p>
<p>As can be seen from these plots, life expectancy has improved in all continents in 2007 as compared to the global average of 1950.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#gapminder-dataset">gapminder dataset</a></li>
      <li><a href="#distribution-with-gghistostats">Distribution with <code>gghistostats</code></a></li>
      <li><a href="#statistical-analysis-with-gghistostats">Statistical analysis with <code>gghistostats</code></a></li>
      <li><a href="#grouped-analysis-with-gghistostats">Grouped analysis with <code>gghistostats</code></a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Indrajeet Patil.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  

  </body>
</html>
